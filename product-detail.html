<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail</title>
    <script src="products.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .product-container { display: flex; flex-wrap: wrap; margin-bottom: 20px; }
        .product-image { flex: 1; }
        .product-image img { max-width: 100%; height: auto; }
        .product-details { flex: 2; padding-left: 20px; }
        .cart-section { margin-top: 20px; }
        .cart-section input[type="number"] { width: 50px; }
        .alert-box { margin-top: 20px; padding: 15px; border-radius: 5px; display: none; }
        .alert-success { background-color: #d4edda; color: #155724; }
        .alert-error { background-color: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Product Details</h1>
    <div class="product-container">
        <div class="product-image">
            <img id="productImage" alt="Product Image">
        </div>
        <div class="product-details">
            <h2 id="productTitle"></h2>
            <p><strong>Price: </strong>$<span id="productPrice"></span></p>
            <p><strong>Description:</strong> <span id="productDescription"></span></p>
            <div class="cart-section">
                <label for="quantityInput"><strong>Quantity:</label></strong>
                <input type="number" id="quantityInput" value="1" min="1">
                <button id="addToCartBtn">Add to Cart</button>
                <button onclick="window.location.href='shopping-cart.html'">Go to Cart</button>
            </div>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const productId = parseInt(params.get('id'));
        const product = products.find(p => p.id === productId);
        if (product) {
            document.getElementById('productImage').src = product.thumbnail;
            document.getElementById('productTitle').textContent = product.title;
            document.getElementById('productPrice').textContent = product.price;
            document.getElementById('productDescription').textContent = product.description;
        }
        document.getElementById('addToCartBtn').addEventListener('click', () => {
            const quantity = parseInt(document.getElementById('quantityInput').value);
            if (quantity < 1) {
                alert('Please select a valid quantity.');
                return;
            }
            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            const existingItem = cart.find(item => item.productId === productId);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({ productId, quantity });
            }
            localStorage.setItem('shoppingCart', JSON.stringify(cart));
            alert('Product added to cart!');
        });
    </script>
</body>
</html>